<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>c-iterplus: include/itplus_drop.h File Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>

<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>

<link href="doxygen.css" rel="stylesheet" type="text/css" />

</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">c-iterplus
   &#160;<span id="projectnumber">1.0.0</span>
   </div>
   <div id="projectbrief">Type safe, Generic, Lazy abstractions for working with c-iterator</div>
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('itplus__drop_8h.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a>  </div>
  <div class="headertitle">
<div class="title">itplus_drop.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Macros for implementing the <code>drop</code> abstraction using the <code>IterDrop</code> struct.  
<a href="#details">More...</a></p>
<div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="itplus__drop_8h__dep__incl.png" border="0" usemap="#ainclude_2itplus__drop_8hdep" alt=""/></div>
<map name="ainclude_2itplus__drop_8hdep" id="ainclude_2itplus__drop_8hdep">
<area shape="rect" title="Macros for implementing the drop abstraction using the IterDrop struct." alt="" coords="113,5,254,32"/>
<area shape="rect" href="itplus__defn_8h.html" title="Helpers for implementing all iterplus utilities at once, for given type." alt="" coords="60,80,200,107"/>
<area shape="rect" href="common_8h.html" title="Declarations of iterator and iterplus structs used in the test executable." alt="" coords="125,155,241,181"/>
<area shape="rect" href="impls_8c.html" title="Implementations of iterables and iterplus utilities." alt="" coords="5,304,103,331"/>
<area shape="rect" href="impls_8h.html" title="Declarations of utilities, structs, and functions for which iterator and iterplus utilities have been..." alt="" coords="92,229,189,256"/>
<area shape="rect" href="sugar_8c.html" title="Wrapper functions to fill pre&#45;allocated iterplus structs and turn them into Iterables." alt="" coords="178,379,277,405"/>
<area shape="rect" href="sugar_8h.html" title="&quot;Syntactic sugar&quot;." alt="" coords="178,304,277,331"/>
</map>
</div>
</div>
<p><a href="itplus__drop_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a6e55b9588c1634ec791b400eb4a9011e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="itplus__drop_8h.html#a6e55b9588c1634ec791b400eb4a9011e">IterDrop</a>(T)&#160;&#160;&#160;ITPL_CONCAT(IterDrop_, T)</td></tr>
<tr class="memdesc:a6e55b9588c1634ec791b400eb4a9011e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convenience macro to get the type of the IterDrop struct with given element type.  <a href="itplus__drop_8h.html#a6e55b9588c1634ec791b400eb4a9011e">More...</a><br /></td></tr>
<tr class="separator:a6e55b9588c1634ec791b400eb4a9011e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71664a9dd47e10449841bfc1d6248503"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="itplus__drop_8h.html#a71664a9dd47e10449841bfc1d6248503">DefineIterDrop</a>(T)</td></tr>
<tr class="memdesc:a71664a9dd47e10449841bfc1d6248503"><td class="mdescLeft">&#160;</td><td class="mdescRight">Define an IterDrop struct that works on <code><a class="el" href="itplus__iterator_8h.html#a78f1cf949c0e970b2105124f691f5c2a" title="Convenience macro to get the type of the Iterable (typeclass instance) with given element type.">Iterable(T)</a></code>s.  <a href="itplus__drop_8h.html#a71664a9dd47e10449841bfc1d6248503">More...</a><br /></td></tr>
<tr class="separator:a71664a9dd47e10449841bfc1d6248503"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82e8516570a9996f2d26ab4b959687ad"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="itplus__drop_8h.html#a82e8516570a9996f2d26ab4b959687ad">define_iterdrop_func</a>(T,  Name)</td></tr>
<tr class="memdesc:a82e8516570a9996f2d26ab4b959687ad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Define a function to turn an <a class="el" href="itplus__drop_8h.html#a6e55b9588c1634ec791b400eb4a9011e" title="Convenience macro to get the type of the IterDrop struct with given element type.">IterDrop(T)</a> into an <a class="el" href="itplus__iterator_8h.html#a78f1cf949c0e970b2105124f691f5c2a" title="Convenience macro to get the type of the Iterable (typeclass instance) with given element type.">Iterable(T)</a>.  <a href="itplus__drop_8h.html#a82e8516570a9996f2d26ab4b959687ad">More...</a><br /></td></tr>
<tr class="separator:a82e8516570a9996f2d26ab4b959687ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p class="">Macros for implementing the <code>drop</code> abstraction using the <code>IterDrop</code> struct. </p>
<p class=""><a href="https://hackage.haskell.org/package/base-4.15.0.0/docs/Data-List.html#v:drop">https://hackage.haskell.org/package/base-4.15.0.0/docs/Data-List.html#v:drop</a> An IterDrop struct is a struct that keeps track of how many elements have been dropped out of an iterator as well as a limit to start extracting the elements at - the iterator impl for this struct will keep dropping from an iterator until it hits that limit, or until the source iterable gets exhausted, whichever comes first. Once enough elements have been dropped, it'll start extracting and returning the rest of the elements. </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a82e8516570a9996f2d26ab4b959687ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a82e8516570a9996f2d26ab4b959687ad">&#9670;&nbsp;</a></span>define_iterdrop_func</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define define_iterdrop_func</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">T, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">Name&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    <span class="keyword">static</span> <a class="code" href="itplus__maybe_8h.html#af47a0e4269e370939835ecc0cf6c7875">Maybe</a>(T) ITPL_CONCAT(<a class="code" href="itplus__drop_8h.html#a6e55b9588c1634ec791b400eb4a9011e">IterDrop</a>(T), _nxt)(<a class="code" href="itplus__drop_8h.html#a6e55b9588c1634ec791b400eb4a9011e">IterDrop</a>(T) * <span class="keyword">self</span>)                                                 \</div>
<div class="line">    {                                                                                                                  \</div>
<div class="line">        Iterable(T) <span class="keyword">const</span> srcit = <span class="keyword">self</span>-&gt;src;                                                                           \</div>
<div class="line">        foreach (T, x, srcit) {                                                                                        \</div>
<div class="line">            if (self-&gt;i &gt;= self-&gt;limit) {                                                                              \</div>
<div class="line">                return <a class="code" href="itplus__maybe_8h.html#ae0832f95d5a7ff6845381aa8795fd2a3">Just</a>(x, T);                                                                                     \</div>
<div class="line">            }                                                                                                          \</div>
<div class="line">            ++(<span class="keyword">self</span>-&gt;i);                                                                                               \</div>
<div class="line">        }                                                                                                              \</div>
<div class="line">        return <a class="code" href="itplus__maybe_8h.html#a65cd69857cc806545d68c79464270a97">Nothing</a>(T);                                                                                             \</div>
<div class="line">    }                                                                                                                  \</div>
<div class="line">    impl_iterator(<a class="code" href="itplus__drop_8h.html#a6e55b9588c1634ec791b400eb4a9011e">IterDrop</a>(T)*, T, Name, ITPL_CONCAT(<a class="code" href="itplus__drop_8h.html#a6e55b9588c1634ec791b400eb4a9011e">IterDrop</a>(T), _nxt))</div>
<div class="ttc" id="aitplus__drop_8h_html_a6e55b9588c1634ec791b400eb4a9011e"><div class="ttname"><a href="itplus__drop_8h.html#a6e55b9588c1634ec791b400eb4a9011e">IterDrop</a></div><div class="ttdeci">#define IterDrop(T)</div><div class="ttdoc">Convenience macro to get the type of the IterDrop struct with given element type.</div><div class="ttdef"><b>Definition:</b> itplus_drop.h:38</div></div>
<div class="ttc" id="aitplus__maybe_8h_html_a65cd69857cc806545d68c79464270a97"><div class="ttname"><a href="itplus__maybe_8h.html#a65cd69857cc806545d68c79464270a97">Nothing</a></div><div class="ttdeci">#define Nothing(T)</div><div class="ttdoc">Wrap a Nothing value into a Maybe(T).</div><div class="ttdef"><b>Definition:</b> itplus_maybe.h:112</div></div>
<div class="ttc" id="aitplus__maybe_8h_html_ae0832f95d5a7ff6845381aa8795fd2a3"><div class="ttname"><a href="itplus__maybe_8h.html#ae0832f95d5a7ff6845381aa8795fd2a3">Just</a></div><div class="ttdeci">#define Just(v, T)</div><div class="ttdoc">Wrap a Just value into a Maybe(T).</div><div class="ttdef"><b>Definition:</b> itplus_maybe.h:95</div></div>
<div class="ttc" id="aitplus__maybe_8h_html_af47a0e4269e370939835ecc0cf6c7875"><div class="ttname"><a href="itplus__maybe_8h.html#af47a0e4269e370939835ecc0cf6c7875">Maybe</a></div><div class="ttdeci">#define Maybe(T)</div><div class="ttdoc">Convenience macro to get the type of the Maybe defined with a certain type.</div><div class="ttdef"><b>Definition:</b> itplus_maybe.h:44</div></div>
</div><!-- fragment -->
<p>Define a function to turn an <a class="el" href="itplus__drop_8h.html#a6e55b9588c1634ec791b400eb4a9011e" title="Convenience macro to get the type of the IterDrop struct with given element type.">IterDrop(T)</a> into an <a class="el" href="itplus__iterator_8h.html#a78f1cf949c0e970b2105124f691f5c2a" title="Convenience macro to get the type of the Iterable (typeclass instance) with given element type.">Iterable(T)</a>. </p>
<p class="">Define the <code>next</code> function implementation for the <a class="el" href="itplus__drop_8h.html#a6e55b9588c1634ec791b400eb4a9011e" title="Convenience macro to get the type of the IterDrop struct with given element type.">IterDrop(T)</a> struct, and use it to implement the Iterator typeclass, for given <code>T</code>.</p>
<p class="">The defined function takes in a value of type <code><a class="el" href="itplus__drop_8h.html#a6e55b9588c1634ec791b400eb4a9011e" title="Convenience macro to get the type of the IterDrop struct with given element type.">IterDrop(T)</a>*</code> and wraps it in an <code><a class="el" href="itplus__iterator_8h.html#a78f1cf949c0e970b2105124f691f5c2a" title="Convenience macro to get the type of the Iterable (typeclass instance) with given element type.">Iterable(T)</a></code>.</p>
<h1>Example</h1>
<div class="fragment"><div class="line"><a class="code" href="itplus__drop_8h.html#a71664a9dd47e10449841bfc1d6248503">DefineIterDrop</a>(<span class="keywordtype">int</span>);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Implement `Iterator` for `IterDrop(int)`</span></div>
<div class="line"><span class="comment">// The defined function has the signature- `Iterable(int) wrap_intitrdrp(IterDrop(int)* x)`</span></div>
<div class="line"><a class="code" href="itplus__drop_8h.html#a82e8516570a9996f2d26ab4b959687ad">define_iterdrop_func</a>(<span class="keywordtype">int</span>, wrap_intitrdrp)</div>
<div class="ttc" id="aitplus__drop_8h_html_a71664a9dd47e10449841bfc1d6248503"><div class="ttname"><a href="itplus__drop_8h.html#a71664a9dd47e10449841bfc1d6248503">DefineIterDrop</a></div><div class="ttdeci">#define DefineIterDrop(T)</div><div class="ttdoc">Define an IterDrop struct that works on Iterable(T)s.</div><div class="ttdef"><b>Definition:</b> itplus_drop.h:55</div></div>
<div class="ttc" id="aitplus__drop_8h_html_a82e8516570a9996f2d26ab4b959687ad"><div class="ttname"><a href="itplus__drop_8h.html#a82e8516570a9996f2d26ab4b959687ad">define_iterdrop_func</a></div><div class="ttdeci">#define define_iterdrop_func(T, Name)</div><div class="ttdoc">Define a function to turn an IterDrop(T) into an Iterable(T).</div><div class="ttdef"><b>Definition:</b> itplus_drop.h:97</div></div>
</div><!-- fragment --><p class="">Usage of the defined function-</p>
<div class="fragment"><div class="line"><span class="comment">// Drop (skip) the first 10 elements from `it` (of type `Iterable(int)`) and create a new iterable</span></div>
<div class="line"><a class="code" href="itplus__iterator_8h.html#a78f1cf949c0e970b2105124f691f5c2a">Iterable</a>(<span class="keywordtype">int</span>) after10 = wrap_intitrdrp(&amp;(<a class="code" href="itplus__drop_8h.html#a6e55b9588c1634ec791b400eb4a9011e">IterDrop</a>(<span class="keywordtype">int</span>)){ .limit = 10, .src = it });</div>
<div class="ttc" id="aitplus__iterator_8h_html_a78f1cf949c0e970b2105124f691f5c2a"><div class="ttname"><a href="itplus__iterator_8h.html#a78f1cf949c0e970b2105124f691f5c2a">Iterable</a></div><div class="ttdeci">#define Iterable(T)</div><div class="ttdoc">Convenience macro to get the type of the Iterable (typeclass instance) with given element type.</div><div class="ttdef"><b>Definition:</b> itplus_iterator.h:46</div></div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">T</td><td>The type of value the <code>Iterable</code> wrapped in this <code>IterDrop</code> will yield. </td></tr>
    <tr><td class="paramname">Name</td><td>Name to define the function as.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>If <code>T</code> is a pointer, it needs to be typedef-ed into a type that does not contain the <code>*</code>. Only alphanumerics. </dd>
<dd>
An <a class="el" href="itplus__drop_8h.html#a6e55b9588c1634ec791b400eb4a9011e" title="Convenience macro to get the type of the IterDrop struct with given element type.">IterDrop(T)</a> for the given <code>T</code> <b>must</b> exist. </dd>
<dd>
This should not be delimited by a semicolon. </dd></dl>

</div>
</div>
<a id="a71664a9dd47e10449841bfc1d6248503"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a71664a9dd47e10449841bfc1d6248503">&#9670;&nbsp;</a></span>DefineIterDrop</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DefineIterDrop</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">T</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    <span class="keyword">typedef</span> <span class="keyword">struct                                                                                                     </span>\</div>
<div class="line">    {                                                                                                                  \</div>
<div class="line">        size_t i;                                                                                                      \</div>
<div class="line">        size_t limit;                                                                                                  \</div>
<div class="line">        Iterable(T) src;                                                                                               \</div>
<div class="line">    } <a class="code" href="itplus__drop_8h.html#a6e55b9588c1634ec791b400eb4a9011e">IterDrop</a>(T)</div>
</div><!-- fragment -->
<p>Define an IterDrop struct that works on <code><a class="el" href="itplus__iterator_8h.html#a78f1cf949c0e970b2105124f691f5c2a" title="Convenience macro to get the type of the Iterable (typeclass instance) with given element type.">Iterable(T)</a></code>s. </p>
<h1>Example</h1>
<div class="fragment"><div class="line"><a class="code" href="itplus__drop_8h.html#a71664a9dd47e10449841bfc1d6248503">DefineIterDrop</a>(<span class="keywordtype">int</span>); <span class="comment">// Defines an IterDrop(int) struct</span></div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">T</td><td>The type of value the <code>Iterable</code> wrapped in this <code>IterDrop</code> will yield.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>If <code>T</code> is a pointer, it needs to be typedef-ed into a type that does not contain the <code>*</code>. Only alphanumerics. </dd>
<dd>
An <a class="el" href="itplus__iterator_8h.html#a6c3a22862dc6db425dd4389987c0dbaf" title="Convenience macro to get the type of the Iterator (typeclass) with given element type.">Iterator(T)</a> for the given <code>T</code> <b>must</b> also exist. </dd></dl>

</div>
</div>
<a id="a6e55b9588c1634ec791b400eb4a9011e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e55b9588c1634ec791b400eb4a9011e">&#9670;&nbsp;</a></span>IterDrop</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define IterDrop</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">T</td><td>)</td>
          <td>&#160;&#160;&#160;ITPL_CONCAT(IterDrop_, T)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convenience macro to get the type of the IterDrop struct with given element type. </p>
<h1>Example</h1>
<div class="fragment"><div class="line"><a class="code" href="itplus__drop_8h.html#a71664a9dd47e10449841bfc1d6248503">DefineIterDrop</a>(<span class="keywordtype">int</span>);</div>
<div class="line"><a class="code" href="itplus__drop_8h.html#a6e55b9588c1634ec791b400eb4a9011e">IterDrop</a>(<span class="keywordtype">int</span>) i; <span class="comment">// Declares a variable of type IterDrop(int)</span></div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">T</td><td>The type of value the <code>Iterable</code> wrapped in this <code>IterDrop</code> will yield. Must be the same type name passed to <a class="el" href="itplus__drop_8h.html#a71664a9dd47e10449841bfc1d6248503" title="Define an IterDrop struct that works on Iterable(T)s.">DefineIterDrop(T)</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>If <code>T</code> is a pointer, it needs to be typedef-ed into a type that does not contain the <code>*</code>. Only alphanumerics. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->

<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="itplus__drop_8h.html">itplus_drop.h</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2 </li>
  </ul>
</div>


</body>
</html>
